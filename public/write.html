<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸€ì“°ê¸° - flipTURN Portfolio</title>
    <meta name="description" content="ê²Œì‹œê¸€ ì‘ì„± í˜ì´ì§€">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/public/image/210544.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700&family=Poppins:wght@400;600&family=Noto+Sans+KR:wght@400;500&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Quill Editor CSS -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    
    <!-- Firebase Config -->
    <script src="firebase-config.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">flipTURN</a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html#intro">Intro</a></li>
                <li><a href="index.html#projects">Projects</a></li>
                <li><a href="index.html#skills">Skills</a></li>
                <li><a href="index.html#experience">Experience</a></li>
                <li><a href="index.html#philosophy">flipTURN</a></li>
                <li><a href="index.html#blog">ê²Œì‹œíŒ</a></li>
                <li><a href="index.html#contact">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Write Page Section -->
    <section class="section write-section">
        <div class="container">
            <div class="write-page-container">
                <div class="write-header">
                    <h1 class="write-title" id="writePageTitle">ê²Œì‹œê¸€ ì‘ì„±</h1>
                    <p class="write-subtitle" id="writePageSubtitle">ìƒˆë¡œìš´ ê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”</p>
                </div>
                
                <form class="write-form" id="writeForm">
                    <div class="form-group">
                        <label for="writeTitle">ì œëª© <span class="required">*</span></label>
                        <input type="text" id="writeTitle" name="title" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="writeCategory">ì¹´í…Œê³ ë¦¬ <span class="required">*</span></label>
                            <select id="writeCategory" name="category" required>
                                <option value="">ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                                <option value="ì¼ìƒ">ì¼ìƒ</option>
                                <option value="ë””ìì¸">ë””ìì¸</option>
                                <option value="ê°œë°œ">ê°œë°œ</option>
                                <option value="ê°¤ëŸ¬ë¦¬">ê°¤ëŸ¬ë¦¬</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="writeAuthor">ì‘ì„±ì <span class="required">*</span></label>
                            <input type="text" id="writeAuthor" name="author" placeholder="ì‘ì„±ìëª…" value="flipTURN" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="writeContent">ë‚´ìš© <span class="required">*</span></label>
                        <div id="writeContent" style="min-height: 400px;"></div>
                        <input type="hidden" id="writeContentHtml" name="content" required>
                        <div class="char-count">
                            <span id="charCount">0</span> / 5000ì
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="writeImage">ì´ë¯¸ì§€ ì²¨ë¶€ (ì„ íƒì‚¬í•­)</label>
                        <div class="file-upload-area">
                            <input type="file" id="writeImage" name="image" accept="image/*" multiple>
                            <div class="file-upload-label">
                                <span class="upload-icon">ğŸ“</span>
                                <span class="upload-text">ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ê±°ë‚˜ ì—¬ê¸°ì— ëŒì–´ë‹¤ ë†“ìœ¼ì„¸ìš”</span>
                            </div>
                        </div>
                        <div id="imagePreview" class="image-preview-container"></div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary cancel-btn" onclick="history.back()">ì·¨ì†Œ</button>
                        <button type="button" class="btn btn-secondary draft-btn">ì„ì‹œì €ì¥</button>
                        <button type="submit" class="btn btn-primary submit-btn" id="submitBtn">ê²Œì‹œí•˜ê¸°</button>
                    </div>
                    <input type="hidden" id="editPostId" name="editPostId">
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 flipTURN All Rights Reserved.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="script.js"></script>
    <!-- Quill Editor JS -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script>
        // Quill ì—ë””í„° ì´ˆê¸°í™”
        let quill = null;
        
        function initializeQuill() {
            const quillContainer = document.getElementById('writeContent');
            if (!quillContainer) return;
            
            quill = new Quill('#writeContent', {
                theme: 'snow',
                modules: {
                    toolbar: [
                        [{ 'header': [1, 2, 3, false] }],
                        ['bold', 'italic', 'underline', 'strike'],
                        [{ 'color': [] }, { 'background': [] }],
                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                        [{ 'align': [] }],
                        ['link', 'image'],
                        ['clean']
                    ]
                },
                placeholder: 'ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...'
            });
            
            // ê¸€ì ìˆ˜ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
            quill.on('text-change', function() {
                updateCharCount();
                updateHiddenInput();
            });
        }
        
        // ê¸€ì ìˆ˜ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
        function updateCharCount() {
            const charCount = document.getElementById('charCount');
            if (!charCount || !quill) return;
            
            const text = quill.getText();
            const length = text.length;
            charCount.textContent = length;
            
            if (length > 5000) {
                charCount.style.color = 'var(--deep-coral)';
            } else {
                charCount.style.color = 'var(--text-light)';
            }
        }
        
        // ìˆ¨ê²¨ì§„ inputì— HTML ë‚´ìš© ì—…ë°ì´íŠ¸
        function updateHiddenInput() {
            const hiddenInput = document.getElementById('writeContentHtml');
            if (hiddenInput && quill) {
                hiddenInput.value = quill.root.innerHTML;
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ Quill ì´ˆê¸°í™” ë° ìˆ˜ì • ëª¨ë“œ ì²´í¬
        document.addEventListener('DOMContentLoaded', async function() {
            initializeQuill();
            
            // URL íŒŒë¼ë¯¸í„°ì—ì„œ edit ID í™•ì¸
            const urlParams = new URLSearchParams(window.location.search);
            const editPostId = urlParams.get('edit');
            
            if (editPostId) {
                // Quill ì´ˆê¸°í™” í›„ ê²Œì‹œê¸€ ë¡œë“œ
                setTimeout(async () => {
                    await loadPostForEdit(editPostId);
                }, 200);
            }
        });
        
        // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ (localStorageì—ì„œ ê°€ì ¸ì˜¤ê¸°)
        function getCurrentUser() {
            return localStorage.getItem('currentUser') || 'flipTURN';
        }
        
        function setCurrentUser(username) {
            localStorage.setItem('currentUser', username);
        }
        
        // ì‘ì„±ì ê¶Œí•œ ì²´í¬
        function isAuthor(postAuthor) {
            const currentUser = getCurrentUser();
            return postAuthor === currentUser;
        }
        
        // ìˆ˜ì • ëª¨ë“œ: ê²Œì‹œê¸€ ë¶ˆëŸ¬ì˜¤ê¸°
        async function loadPostForEdit(postId) {
            try {
                // Firebase ì´ˆê¸°í™”
                if (!window.initFirebase) {
                    showNotification('Firebaseê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.', 'error');
                    return;
                }
                
                const { db: database } = await window.initFirebase();
                if (!database) {
                    showNotification('Firebase DBë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', 'error');
                    return;
                }
                
                // Firestoreì—ì„œ ê²Œì‹œê¸€ ê°€ì ¸ì˜¤ê¸°
                const { doc, getDoc } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js');
                const postRef = doc(database, 'posts', postId);
                const postSnap = await getDoc(postRef);
                
                if (!postSnap.exists()) {
                    showNotification('ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', 'error');
                    setTimeout(() => {
                        window.location.href = 'index.html#blog';
                    }, 2000);
                    return;
                }
                
                const post = postSnap.data();
                
                // ì‘ì„±ì ê¶Œí•œ ì²´í¬
                if (!isAuthor(post.author)) {
                    showNotification('ì‘ì„±ìë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'error');
                    setTimeout(() => {
                        window.location.href = 'index.html#blog';
                    }, 2000);
                    return;
                }
                
                // í˜ì´ì§€ ì œëª© ë³€ê²½
                document.getElementById('writePageTitle').textContent = 'ê²Œì‹œê¸€ ìˆ˜ì •';
                document.getElementById('writePageSubtitle').textContent = 'ê²Œì‹œê¸€ì„ ìˆ˜ì •í•˜ì„¸ìš”';
                document.getElementById('submitBtn').textContent = 'ìˆ˜ì •í•˜ê¸°';
                document.getElementById('editPostId').value = postId;
                
                // í¼ì— ë°ì´í„° ì±„ìš°ê¸°
                document.getElementById('writeTitle').value = post.title || '';
                document.getElementById('writeCategory').value = post.category || '';
                document.getElementById('writeAuthor').value = post.author || 'flipTURN';
                
                // Quill ì—ë””í„°ì— ë‚´ìš© ì„¤ì •
                if (quill && post.content) {
                    quill.root.innerHTML = post.content;
                    updateCharCount();
                    updateHiddenInput();
                }
                
                // ê¸°ì¡´ ì´ë¯¸ì§€ í‘œì‹œ
                const imagePreview = document.getElementById('imagePreview');
                if (imagePreview && post.imageUrls && Array.isArray(post.imageUrls) && post.imageUrls.length > 0) {
                    imagePreview.innerHTML = '';
                    post.imageUrls.forEach(imageUrl => {
                        const previewItem = document.createElement('div');
                        previewItem.className = 'preview-item';
                        previewItem.innerHTML = `
                            <img src="${imageUrl}" alt="ê¸°ì¡´ ì´ë¯¸ì§€">
                            <button type="button" class="remove-image-btn" onclick="this.parentElement.remove()">Ã—</button>
                        `;
                        imagePreview.appendChild(previewItem);
                    });
                }
                
            } catch (error) {
                console.error('ê²Œì‹œê¸€ ë¡œë“œ ì˜¤ë¥˜:', error);
                showNotification('ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }
        
        // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°
        const writeImage = document.getElementById('writeImage');
        const imagePreview = document.getElementById('imagePreview');
        
        if (writeImage && imagePreview) {
            writeImage.addEventListener('change', function(e) {
                imagePreview.innerHTML = '';
                const files = e.target.files;
                
                if (files.length > 0) {
                    Array.from(files).forEach(file => {
                        if (file.type.startsWith('image/')) {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                const previewItem = document.createElement('div');
                                previewItem.className = 'preview-item';
                                previewItem.innerHTML = `
                                    <img src="${e.target.result}" alt="ë¯¸ë¦¬ë³´ê¸°">
                                    <button type="button" class="remove-image-btn" onclick="this.parentElement.remove()">Ã—</button>
                                `;
                                imagePreview.appendChild(previewItem);
                            };
                            reader.readAsDataURL(file);
                        }
                    });
                }
            });
        }
        
        // Firebaseë¥¼ ì‚¬ìš©í•œ ê²Œì‹œê¸€ ì €ì¥
        const writeForm = document.getElementById('writeForm');
        let firebaseDb = null;
        let firebaseStorage = null;
        
        // Firebase ì´ˆê¸°í™”
        async function initializeFirebase() {
            try {
                const { db: database, storage: storageInstance } = await window.initFirebase();
                firebaseDb = database;
                firebaseStorage = storageInstance;
                return true;
            } catch (error) {
                console.error('Firebase ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
                return false;
            }
        }
        
        // ê²Œì‹œê¸€ ì €ì¥
        async function savePost(formData) {
            if (!firebaseDb) {
                const initialized = await initializeFirebase();
                if (!initialized) {
                    showNotification('Firebaseë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
            }
            
            try {
                const { collection, addDoc, doc, updateDoc, serverTimestamp } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js');
                const { ref, uploadBytes, getDownloadURL } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js');
                
                const title = formData.get('title');
                const editPostId = document.getElementById('editPostId').value;
                const isEditMode = !!editPostId;
                
                // Quill ì—ë””í„°ì—ì„œ HTML ë‚´ìš© ê°€ì ¸ì˜¤ê¸°
                let content = '';
                if (quill) {
                    content = quill.root.innerHTML;
                    // ë¹ˆ ë‚´ìš© ì²´í¬ (Quillì´ ë¹ˆ ë‚´ìš©ì¼ ë•Œ <p><br></p>ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŒ)
                    const text = quill.getText().trim();
                    if (!text || text.length === 0) {
                        throw new Error('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    }
                } else {
                    content = formData.get('content') || '';
                    if (!content.trim()) {
                        throw new Error('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    }
                }
                
                const category = formData.get('category');
                let author = formData.get('author');
                const imageFiles = formData.getAll('image');
                
                // í•„ìˆ˜ í•„ë“œ ê²€ì¦
                if (!title || !title.trim()) {
                    throw new Error('ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                }
                if (!category) {
                    throw new Error('ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.');
                }
                if (!author || !author.trim()) {
                    throw new Error('ì‘ì„±ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                }
                
                // ìˆ˜ì • ëª¨ë“œì¼ ê²½ìš° ì‘ì„±ì ê¶Œí•œ ì²´í¬
                if (isEditMode) {
                    const { doc, getDoc } = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js');
                    const postRef = doc(firebaseDb, 'posts', editPostId);
                    const postSnap = await getDoc(postRef);
                    
                    if (postSnap.exists()) {
                        const originalPost = postSnap.data();
                        if (!isAuthor(originalPost.author)) {
                            throw new Error('ì‘ì„±ìë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                        }
                        // ì‘ì„±ìëŠ” ë³€ê²½ ë¶ˆê°€
                        author = originalPost.author;
                    }
                } else {
                    // ìƒˆ ê²Œì‹œê¸€ ì‘ì„± ì‹œ í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì €ì¥
                    setCurrentUser(author);
                    // ë©”ì¸ í˜ì´ì§€ì˜ ì‚¬ìš©ì í‘œì‹œë„ ì—…ë°ì´íŠ¸ (openerê°€ ìˆìœ¼ë©´)
                    if (window.opener) {
                        try {
                            window.opener.updateCurrentUserDisplay();
                        } catch (e) {
                            // Cross-origin ì˜¤ë¥˜ ë¬´ì‹œ
                        }
                    }
                }
                
                // ê¸°ì¡´ ì´ë¯¸ì§€ URL ê°€ì ¸ì˜¤ê¸° (ìˆ˜ì • ëª¨ë“œ)
                let imageUrls = [];
                if (isEditMode) {
                    const imagePreview = document.getElementById('imagePreview');
                    if (imagePreview) {
                        const existingImages = imagePreview.querySelectorAll('img');
                        existingImages.forEach(img => {
                            if (img.src && !img.src.startsWith('data:')) {
                                imageUrls.push(img.src);
                            }
                        });
                    }
                }
                
                // ìƒˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ
                for (const file of imageFiles) {
                    if (file.size > 0) {
                        const imageRef = ref(firebaseStorage, `posts/${Date.now()}_${file.name}`);
                        await uploadBytes(imageRef, file);
                        const url = await getDownloadURL(imageRef);
                        imageUrls.push(url);
                    }
                }
                
                if (isEditMode) {
                    // ìˆ˜ì • ëª¨ë“œ: ê¸°ì¡´ ê²Œì‹œê¸€ ì—…ë°ì´íŠ¸
                    const postRef = doc(firebaseDb, 'posts', editPostId);
                    await updateDoc(postRef, {
                        title,
                        content,
                        category,
                        author,
                        imageUrls,
                        updatedAt: serverTimestamp()
                    });
                    
                    showNotification('ê²Œì‹œê¸€ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                } else {
                    // ìƒˆ ê²Œì‹œê¸€ ì‘ì„±
                    await addDoc(collection(firebaseDb, 'posts'), {
                        title,
                        content,
                        category,
                        author,
                        imageUrls,
                        views: 0,
                        createdAt: serverTimestamp(),
                        updatedAt: serverTimestamp()
                    });
                    
                    showNotification('ê²Œì‹œê¸€ì´ ì„±ê³µì ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                }
                
                // ê²Œì‹œíŒìœ¼ë¡œ ì´ë™
                setTimeout(() => {
                    window.location.href = 'index.html#blog';
                }, 1500);
                
            } catch (error) {
                console.error('ê²Œì‹œê¸€ ì €ì¥ ì˜¤ë¥˜:', error);
                console.error('ì—ëŸ¬ ìƒì„¸:', {
                    message: error.message,
                    stack: error.stack,
                    title: title,
                    contentLength: content ? content.length : 0,
                    category: category,
                    author: author
                });
                showNotification('ê²Œì‹œê¸€ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
            }
        }
        
        // ì•Œë¦¼ í‘œì‹œ í•¨ìˆ˜
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${type === 'success' ? '#A8E6CF' : type === 'error' ? '#FF8A8A' : '#AEDFF7'};
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                z-index: 10000;
                font-weight: 500;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // í¼ ì œì¶œ ì²˜ë¦¬
        if (writeForm) {
            writeForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Quill ì—ë””í„° ë‚´ìš© í™•ì¸
                if (!quill) {
                    showNotification('ì—ë””í„°ê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
                
                const text = quill.getText().trim();
                if (!text || text.length === 0) {
                    showNotification('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                    return;
                }
                
                // ìˆ¨ê²¨ì§„ inputì— ìµœì‹  ë‚´ìš© ì—…ë°ì´íŠ¸
                updateHiddenInput();
                
                const submitBtn = this.querySelector('.submit-btn');
                const originalText = submitBtn.textContent;
                submitBtn.textContent = 'ì €ì¥ ì¤‘...';
                submitBtn.disabled = true;
                
                const formData = new FormData(this);
                await savePost(formData);
                
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            });
        }
        
        // ì„ì‹œì €ì¥ ë²„íŠ¼ (ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥)
        const draftBtn = document.querySelector('.draft-btn');
        if (draftBtn) {
            draftBtn.addEventListener('click', function() {
                const formData = {
                    title: document.getElementById('writeTitle').value,
                    content: quill ? quill.root.innerHTML : '',
                    category: document.getElementById('writeCategory').value,
                    author: document.getElementById('writeAuthor').value
                };
                localStorage.setItem('draftPost', JSON.stringify(formData));
                showNotification('ì„ì‹œì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            });
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì„ì‹œì €ì¥ëœ ë‚´ìš© ë¶ˆëŸ¬ì˜¤ê¸°
        window.addEventListener('DOMContentLoaded', function() {
            // Quill ì´ˆê¸°í™” í›„ ì„ì‹œì €ì¥ ë‚´ìš© ë¶ˆëŸ¬ì˜¤ê¸°
            setTimeout(() => {
                const draft = localStorage.getItem('draftPost');
                if (draft && quill) {
                    const formData = JSON.parse(draft);
                    if (confirm('ì„ì‹œì €ì¥ëœ ê¸€ì´ ìˆìŠµë‹ˆë‹¤. ë¶ˆëŸ¬ì˜¤ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        document.getElementById('writeTitle').value = formData.title || '';
                        if (formData.content) {
                            quill.root.innerHTML = formData.content;
                            updateCharCount();
                        }
                        document.getElementById('writeCategory').value = formData.category || '';
                        document.getElementById('writeAuthor').value = formData.author || '';
                    }
                }
            }, 100);
        });
    </script>
</body>
</html>

